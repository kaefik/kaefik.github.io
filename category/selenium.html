<!DOCTYPE html>
<html lang="ru">
<head>
        <meta charset="utf-8" />
        <meta name="yandex-verification" content="f7918c520c4b54dd" />
        <title>Общественная записная книжка - selenium</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="https://github.com/kaefik">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="/">Общественная записная книжка  <strong>следы для себя и потомков</strong></a></h1>
                <nav><ul>
                </ul>
<form id="search" action"#" onsubmit="javascript:window.open('https://duckduckgo.com/?q='+document.getElementById('keywords').value+'+site:www.kaefik.ru');">
                        <input id="keywords" type="text" />
                    </form>
                </nav>
<div id="submenu">
                    <ul>
                            <li><a href="/category/anime.html">anime</a></li>
                            <li><a href="/category/arduino.html">arduino</a></li>
                            <li><a href="/category/bios.html">bios</a></li>
                            <li><a href="/category/blogger.html">blogger</a></li>
                            <li><a href="/category/c.html">c#</a></li>
                            <li><a href="/category/chromeos.html">chromeos</a></li>
                            <li><a href="/category/clojure.html">clojure</a></li>
                            <li><a href="/category/design.html">design</a></li>
                            <li><a href="/category/docker.html">docker</a></li>
                            <li><a href="/category/emacs.html">emacs</a></li>
                            <li><a href="/category/english.html">english</a></li>
                            <li><a href="/category/familytree.html">familytree</a></li>
                            <li><a href="/category/freepbx.html">freepbx</a></li>
                            <li><a href="/category/game.html">game</a></li>
                            <li><a href="/category/git.html">git</a></li>
                            <li><a href="/category/go.html">go</a></li>
                            <li><a href="/category/hackintosh.html">hackintosh</a></li>
                            <li><a href="/category/hobby.html">hobby</a></li>
                            <li><a href="/category/internet.html">internet</a></li>
                            <li><a href="/category/java.html">java</a></li>
                            <li><a href="/category/javascript.html">javascript</a></li>
                            <li><a href="/category/lego.html">lego</a></li>
                            <li><a href="/category/linux.html">linux</a></li>
                            <li><a href="/category/lua.html">lua</a></li>
                            <li><a href="/category/machine_learning.html">machine_learning</a></li>
                            <li><a href="/category/main.html">main</a></li>
                            <li><a href="/category/markdown.html">markdown</a></li>
                            <li><a href="/category/miband.html">miband</a></li>
                            <li><a href="/category/minecraft.html">minecraft</a></li>
                            <li><a href="/category/miui.html">miui</a></li>
                            <li><a href="/category/money.html">money</a></li>
                            <li><a href="/category/mongodb.html">mongodb</a></li>
                            <li><a href="/category/mouse.html">mouse</a></li>
                            <li><a href="/category/network.html">network</a></li>
                            <li><a href="/category/openstreetmap.html">openstreetmap</a></li>
                            <li><a href="/category/os.html">os</a></li>
                            <li><a href="/category/otkrytye-dannye.html">открытые данные</a></li>
                            <li><a href="/category/postgis.html">postgis</a></li>
                            <li><a href="/category/postgresql.html">PostgreSQL</a></li>
                            <li><a href="/category/powershell.html">powershell</a></li>
                            <li><a href="/category/programming.html">programming</a></li>
                            <li><a href="/category/projects.html">projects</a></li>
                            <li><a href="/category/python.html">python</a></li>
                            <li><a href="/category/radio.html">radio</a></li>
                            <li><a href="/category/rest-api.html">rest-api</a></li>
                            <li><a href="/category/rust.html">rust</a></li>
                            <li><a href="/category/sailfish.html">sailfish</a></li>
                            <li><a href="/category/security.html">security</a></li>
                            <li class="active"><a href="/category/selenium.html">selenium</a></li>
                            <li><a href="/category/shell.html">shell</a></li>
                            <li><a href="/category/swift.html">swift</a></li>
                            <li><a href="/category/tatar.html">tatar</a></li>
                            <li><a href="/category/ubuntu.html">ubuntu</a></li>
                            <li><a href="/category/upwork.html">upwork</a></li>
                            <li><a href="/category/video.html">video</a></li>
                            <li><a href="/category/vim.html">vim</a></li>
                            <li><a href="/category/voice-assistant.html">voice-assistant</a></li>
                            <li><a href="/category/vscode.html">vscode</a></li>
                            <li><a href="/category/web.html">web</a></li>
                            <li><a href="/category/wifi.html">wifi</a></li>
                            <li><a href="/category/windows.html">windows</a></li>
                    </ul>
                <div>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/2018/04/12/selenium/">Selenium</a></h1>
<footer class="post-info">
        <span>Thu 12 April 2018</span>
<span>| tags: <a href="/tag/programmirovanie.html">программирование</a><a href="/tag/selenium.html">selenium</a><a href="/tag/test.html">test</a></span>
</footer><!-- /.post-info --><h2>Полезные ссылки</h2>
<ul>
<li><a href="https://docs.seleniumhq.org/docs/">Selenium Doc</a></li>
<li><a href="http://selenium-python.readthedocs.io/api.html">WebDriver API документация</a></li>
<li><a href="https://kreisfahrer.gitbooks.io/selenium-webdriver/webdriver_intro/index.html">Книга по Selenium (читать на русском)</a></li>
<li><a href="https://stackoverflow.com/questions/17677127/python-protection-settings-ie">Настройки зон безопасности selenium для браузера IE</a></li>
<li>[Как Clojure помогает ускорить написание Selenium-тестов](https://habrahabr.ru/post/308228)</li>
<li><a href="http://blogs.bytecode.com.au/glen/2013/11/11/testing-downloading-files-in-ie9-via-selenium.html">Testing Downloading Files in IE9 via Selenium</a></li>
<li><a href="https://habrahabr.ru/post/327184/">Selenium/Solenoid</a></li>
<li><a href="https://www.youtube.com/watch?v=sbwlIqGsj8Q">Use Xvfb to launch Headless Browser Firefox on Ubuntu Server without Desktop GUI</a>  - видео</li>
<li><a href="http://www.cnews.ru/news/top/2017-04-13_chrome_59_budet_rabotat_na_serverah">Браузер Chrome научился работать на устройствах без экрана</a></li>
<li><a href="https://habrahabr.ru/post/113928/">Linux: запуск графических приложений в фоне</a></li>
<li><a href="http://phantomjs.org/">PhantomJS</a> is a headless WebKit scriptable with a JavaScript API. It has fast and native support for various web standards: DOM handling, CSS selector, JSON, Canvas, and SVG.</li>
<li><a href="https://testerslittlehelper.wordpress.com/">https://testerslittlehelper.wordpress.com/</a></li>
<li><a href="https://intoli.com/blog/running-selenium-with-headless-firefox/">Connecting Selenium to Headless Firefox</a></li>
<li><a href="https://habrahabr.ru/post/250947/">Навигация</a>- здесь есть переключение между фреймами</li>
<li><a href="https://xpinjection.com/articles/waits-and-timeouts-in-webdriver/">Как работать c ожиданиями от WebDriver API</a></li>
<li><a href="https://stackoverflow.com/questions/17576148/webdriver-error-no-alert-is-present-after-unexpectedalertpresentexception-is">Alert present WebDriver (stackoverflow)</a></li>
<li><a href="https://geteasyqa.com/ru/qa/best-selenium-interview-questions/">100+ вопросов по Selenium</a></li>
<li>Самый простой способ скрыть браузер - установить PhantomJS. Затем измените эту строку:
driver = webdriver.Firefox() в
driver = webdriver.PhantomJS() Остальную часть кода не нужно менять, и браузер не откроется. Для целей отладки используйте driver.save_screenshot('screen.png') на разных этапах вашего кода или просто переключитесь на веб-браузер Firefox снова.
В Windows вам нужно указать путь к phantomjs.exe:
driver = webdriver.PhantomJS('C:\phantomjs-1.9.7-windows\phantomjs.exe')<a href="http://internetka.in.ua/selenium-basic-authorization/">link_without_label</a></li>
<li><a href="http://internetka.in.ua/selenium-basic-authorization/">Selenium WebDriver: basic авторизация</a></li>
<li><a href="http://bmp.lightbody.net/">BrowserMob Proxy</a> - A free utility to help web developers watch and manipulate network traffic from their AJAX applications.<a href="https://github.com/lightbody/browsermob-proxy">на github</a></li>
<li><a href="https://github.com/AutomatedTester/browsermob-proxy-py">browsermob-proxy-py</a> - Python client for the BrowserMob Proxy 2.0 REST API. <a href="https://browsermob-proxy-py.readthedocs.io/en/latest/">смотрите DOCS</a></li>
</ul>
<h3>Запуск chrome без графического окна</h3>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="n">options</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ChromeOptions</span><span class="p">()</span>
<span class="c1"># tell selenium to use the dev channel version of chrome</span>
<span class="c1"># NOTE: only do this if you have a good reason to</span>
<span class="n">options</span><span class="o">.</span><span class="n">binary_location</span> <span class="o">=</span> <span class="s1">&#39;/usr/bin/google-chrome-unstable&#39;</span>
<span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;headless&#39;</span><span class="p">)</span>
<span class="c1"># set the window size</span>
<span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;window-size=1200x600&#39;</span><span class="p">)</span>
<span class="c1"># initialize the driver</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">chrome_options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://facebook.com&#39;</span><span class="p">)</span>
<span class="c1"># wait up to 10 seconds for the elements to become available</span>
<span class="n">driver</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># wait up to 10 seconds for the elements to become available</span>
<span class="n">driver</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>


<h2>Настройка прокси сервера в браузерах</h2>
<ul>
<li>
<p><a href="https://www.us-proxy.org/">Список прокси серверов</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/11450158/how-do-i-set-proxy-for-chrome-in-python-webdriver">https://stackoverflow.com/questions/11450158/how-do-i-set-proxy-for-chrome-in-python-webdriver</a></p>
</li>
<li><strong>Firefox</strong> </li>
</ul>
<div class="highlight"><pre><span></span><span class="n">profile</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">FirefoxProfile</span><span class="p">()</span>
<span class="n">profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;network.proxy.type&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;network.proxy.http&quot;</span><span class="p">,</span> <span class="s2">&quot;10.10.10.10&quot;</span><span class="p">)</span>
<span class="n">profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;network.proxy.http_port&quot;</span><span class="p">,</span> <span class="mi">8080</span><span class="p">)</span>
<span class="n">profile</span><span class="o">.</span><span class="n">update_preferences</span><span class="p">()</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">(</span><span class="n">firefox_profile</span><span class="o">=</span><span class="n">profile</span><span class="p">)</span>
</pre></div>


<ul>
<li><strong>Chrome</strong> </li>
</ul>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="n">PROXY</span> <span class="o">=</span> <span class="s2">&quot;23.23.23.23:3128&quot;</span> <span class="c1"># IP:PORT or HOST:PORT</span>
<span class="n">chrome_options</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ChromeOptions</span><span class="p">()</span>
<span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--proxy-server=http://</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">PROXY</span><span class="p">)</span>
<span class="n">chrome</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">chrome_options</span><span class="o">=</span><span class="n">chrome_options</span><span class="p">)</span>
</pre></div>


<h2>Переключение между окнами и фреймами</h2>
<p>источник: <a href="https://habrahabr.ru/post/250947/">https://habrahabr.ru/post/250947/</a></p>
<p>WebDriver поддерживает переключение между именованными окнами с помощью метода “switch_to_window”:</p>
<div class="highlight"><pre><span></span><span class="n">driver</span><span class="o">.</span><span class="n">switch_to_window</span><span class="p">(</span><span class="s2">&quot;windowName&quot;</span><span class="p">)</span>
</pre></div>


<p>Вы можете использовать цикл для перебора всех открытых окон, к примеру, так:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">handle</span> <span class="ow">in</span> <span class="n">driver</span><span class="o">.</span><span class="n">window_handles</span><span class="p">:</span>
<span class="n">driver</span><span class="o">.</span><span class="n">switch_to_window</span><span class="p">(</span><span class="n">handle</span><span class="p">)</span>
</pre></div>


<p>Еще вы можете переходить между фрэймами (frame или iframes):</p>
<div class="highlight"><pre><span></span><span class="n">driver</span><span class="o">.</span><span class="n">switch_to_frame</span><span class="p">(</span><span class="s2">&quot;frameName&quot;</span><span class="p">)</span>
</pre></div>


<p>Можно получить доступ к подчиненным фреймам, подавая путь, разделяемый точкой, или можно получить фрейм по индексу:</p>
<div class="highlight"><pre><span></span><span class="n">driver</span><span class="o">.</span><span class="n">switch_to_frame</span><span class="p">(</span><span class="s2">&quot;frameName.0.child&quot;</span><span class="p">)</span>
</pre></div>


<p>Следующий код перенаправит к фрейму с именем “child”, который в свою очередь принадлежит первому подчиненному фрейму фрейма “frameName”. Пути к фреймам описываются полностью — от верхнего уровня:</p>
<div class="highlight"><pre><span></span><span class="n">driver</span><span class="o">.</span><span class="n">switch_to_frame</span><span class="p">(</span><span class="s2">&quot;frameName.0.child&quot;</span><span class="p">)</span>
</pre></div>


<p>Когда работа с фреймами будет завершена, необходимо переключиться обратно, к главному фрейму, что может быть сделано следующим образом:</p>
<div class="highlight"><pre><span></span><span class="n">driver</span><span class="o">.</span><span class="n">switch_to_default_content</span><span class="p">()</span>
</pre></div>


<p>Всплывающие окнаSelenium WebDriver из упаковки поддерживает управление всплывающими диалоговыми окнами. После того как вы инициируете запуск, откроется окно, управлять им можно так:</p>
<div class="highlight"><pre><span></span><span class="n">alert</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">switch_to_alert</span><span class="p">()</span>
</pre></div>


<p>Код вернет объект текущего открытого окна. С этим объектом вы можете принять, отклонить вопрос окна, прочитать его содержимое или даже ввести текст по приглашению окна. Интерфейс взаимодействия со всплывающими окнами работает одинаково хорошо как для предупреждений (alerts), так и для запросов к подтверждению (confirms) и приглашений к вводу (prompts). За дополнительной информацией обратитесь к документации API.```</p>
<p>источник:   https://stackoverflow.com/questions/48245424/how-to-use-screenshot-in-headless-firefox-in-selenium-with-python</p>
<p>The Release Notes of <strong>Selenium v3.6.0</strong> clearly mentions <strong>Add options to start Firefox and Chrome in headless modes</strong>. So we need to use the <strong><code>Options</code></strong> Class as follows to invoke the <strong><code>headless</code></strong> argument:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>  
<span class="kn">from</span> <span class="nn">selenium.webdriver.firefox.options</span> 
<span class="kn">import</span> <span class="nn">Options</span> 
<span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span> 
<span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--headless&quot;</span><span class="p">)</span> 
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">(</span><span class="n">firefox_options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="n">executable_path</span><span class="o">=</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Utility</span><span class="se">\\</span><span class="s2">BrowserDrivers</span><span class="se">\\</span><span class="s2">geckodriver.exe&quot;</span><span class="p">)</span>  
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Firefox Headless Browser Invoked&quot;</span><span class="p">)</span> 
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://google.com/&#39;</span><span class="p">)</span> 
<span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>


<p>Следующий фрагмент кода Java WebDriver должен работать для запуска IE. Код будет игнорировать настройку параметров защищенного режима для всех зон в браузере IE.</p>
<div class="highlight"><pre><span></span><span class="n">DesiredCapabilities</span> <span class="n">capabilities</span> <span class="o">=</span> <span class="n">DesiredCapabilities</span><span class="o">.</span><span class="n">internetExplorer</span><span class="p">();</span>
<span class="n">capabilities</span><span class="o">.</span><span class="n">setCapability</span><span class="p">(</span><span class="n">InternetExplorerDriver</span><span class="o">.</span><span class="n">INTRODUCE_FLAKINESS_BY_IGNORING_SECURITY_DOMAINS</span><span class="p">,</span> <span class="n">true</span><span class="p">);</span>
<span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="n">new</span> <span class="n">File</span><span class="p">(</span><span class="s2">&quot;D:</span><span class="se">\\</span><span class="s2">Ripon Al Wasim</span><span class="se">\\</span><span class="s2">IEDriverServer.exe&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;webdriver.ie.driver&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">getAbsolutePath</span><span class="p">());</span>
<span class="n">WebDriver</span> <span class="n">driver</span> <span class="o">=</span> <span class="n">new</span> <span class="n">InternetExplorerDriver</span><span class="p">(</span><span class="n">capabilities</span><span class="p">);</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://www.google.com/&quot;</span><span class="p">);</span>
</pre></div>


<p>Загрузите IEDriverServer и извлеките его в нужное место и установите абсолютный путь (в моем примере выше это было "D:\Ripon Al Wasim\IEDriverServer.exe" )</p>
<h2>Всяко-разное (отсортировать)</h2>
<p>Вот еще одно решение, использующее remotewebdriver, оно работает как магия, и мне это нравится.
Вот класс, который у меня есть:</p>
<div class="highlight"><pre><span></span><span class="n">driver</span><span class="o">.</span><span class="n">findElementByLinkText</span><span class="p">(</span><span class="s2">&quot;Upload Files&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">();</span>
<span class="n">driver</span><span class="o">.</span><span class="n">setLogLevel</span><span class="p">(</span><span class="n">Level</span><span class="o">.</span><span class="n">ALL</span><span class="p">);</span>
<span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">driver</span><span class="o">.</span><span class="n">getCurrentUrl</span><span class="p">());</span>
<span class="n">WebElement</span> <span class="n">element</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s2">&quot;//input[@name=&#39;file_1&#39;]&quot;</span><span class="p">));</span>
<span class="n">LocalFileDetector</span> <span class="n">detector</span> <span class="o">=</span> <span class="n">new</span> <span class="n">LocalFileDetector</span><span class="p">();</span>

<span class="o">//</span><span class="n">Now</span><span class="p">,</span> <span class="n">give</span> <span class="n">the</span> <span class="n">file</span> <span class="n">path</span> <span class="ow">and</span> <span class="n">see</span> <span class="n">the</span> <span class="n">magic</span> <span class="p">:)</span>              
<span class="n">String</span> <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;D://test66T.txt&quot;</span><span class="p">;</span>
<span class="n">File</span> <span class="n">f</span> <span class="o">=</span> <span class="n">detector</span><span class="o">.</span><span class="n">getLocalFile</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
<span class="p">((</span><span class="n">RemoteWebElement</span><span class="p">)</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">setFileDetector</span><span class="p">(</span><span class="n">detector</span><span class="p">);</span>
<span class="n">element</span><span class="o">.</span><span class="n">sendKeys</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">getAbsolutePath</span><span class="p">());</span>

<span class="o">//</span><span class="n">now</span> <span class="n">click</span> <span class="n">the</span> <span class="n">button</span> <span class="n">to</span> <span class="n">finish</span>
<span class="n">driver</span><span class="o">.</span><span class="n">findElementByXPath</span><span class="p">(</span><span class="s2">&quot;//html/body/div[9]/div[1]/a/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">();</span> 
</pre></div>


<ul>
<li>Проблема — необходимо загрузить файл на сервер, используя стандартные элементы HTML:</li>
</ul>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">«uploadFile»type=«file»</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">«doUpload»value=«Upload»type=«button»/</span><span class="p">&gt;</span>
</pre></div>


<p>Решение — я рекомендую просто взять и вынести себе это в отдельный универсальный метод и использовать его каждый раз когда нужно что-либо загрузить через такую форму.</p>
<p>Исключение — Safari Driver полностью не поддерживает загрузку файла, т.к. насколько я понял, он javascript-based. Появляющееся окно с выбором файла ставит его в тупиковое положение. Такие сценарии нужно либо избегать, либо добиваться результата другим способом — создавать собственный HTTP запрос или подкладывать данные напрямую на стороне сервера, если такая возможность имеется.</p>
<p>Пример кода:</p>
<div class="highlight"><pre><span></span><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">uploadFile</span><span class="p">(</span><span class="n">By</span> <span class="n">uploadInput</span><span class="p">,</span> <span class="n">By</span> <span class="n">uploadButton</span><span class="p">,</span> <span class="n">String</span> <span class="n">filePath</span><span class="p">)</span> <span class="p">{</span>
       <span class="n">clearInput</span><span class="p">(</span><span class="n">uploadInput</span><span class="p">);</span>
       <span class="n">findElement</span><span class="p">(</span><span class="n">uploadInput</span><span class="p">).</span><span class="na">sendKeys</span><span class="p">(</span><span class="n">filePath</span><span class="p">);</span>
       <span class="n">findElement</span><span class="p">(</span><span class="n">uploadButton</span><span class="p">).</span><span class="na">click</span><span class="p">();</span> 
</pre></div>                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/oILnur">Twitter</a></li>
                            <li><a href="mailto: ilnursoft@gmail.com">Email</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

</body>
</html>