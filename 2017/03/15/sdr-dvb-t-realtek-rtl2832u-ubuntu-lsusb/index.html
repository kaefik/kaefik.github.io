<!DOCTYPE html>
<html lang="ru">
<head>
        <meta charset="utf-8" />
        <meta name="yandex-verification" content="f7918c520c4b54dd" />
        <title>Настройка программного приёмника (SDR) из DVB-T адаптера Realtek RTL2832U в Ubuntu (возможно устарело)</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="https://github.com/kaefik">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="/">Общественная записная книжка  <strong>следы для себя и потомков</strong></a></h1>
                <nav><ul>
                </ul>
<form id="search" action"#" onsubmit="javascript:window.open('https://duckduckgo.com/?q='+document.getElementById('keywords').value+'+site:www.kaefik.ru');">
                        <input id="keywords" type="text" />
                    </form>
                </nav>
<div id="submenu">
                    <ul>
                            <li><a href="/category/anime.html">anime</a></li>
                            <li><a href="/category/arduino.html">arduino</a></li>
                            <li><a href="/category/bios.html">bios</a></li>
                            <li><a href="/category/blogger.html">blogger</a></li>
                            <li><a href="/category/c.html">c#</a></li>
                            <li><a href="/category/chromeos.html">chromeos</a></li>
                            <li><a href="/category/clojure.html">clojure</a></li>
                            <li><a href="/category/design.html">design</a></li>
                            <li><a href="/category/docker.html">docker</a></li>
                            <li><a href="/category/emacs.html">emacs</a></li>
                            <li><a href="/category/english.html">english</a></li>
                            <li><a href="/category/familytree.html">familytree</a></li>
                            <li><a href="/category/freepbx.html">freepbx</a></li>
                            <li><a href="/category/game.html">game</a></li>
                            <li><a href="/category/git.html">git</a></li>
                            <li><a href="/category/go.html">go</a></li>
                            <li><a href="/category/hackintosh.html">hackintosh</a></li>
                            <li><a href="/category/hobby.html">hobby</a></li>
                            <li><a href="/category/internet.html">internet</a></li>
                            <li><a href="/category/javascript.html">javascript</a></li>
                            <li><a href="/category/lego.html">lego</a></li>
                            <li><a href="/category/linux.html">linux</a></li>
                            <li><a href="/category/lua.html">lua</a></li>
                            <li><a href="/category/machine_learning.html">machine_learning</a></li>
                            <li><a href="/category/main.html">main</a></li>
                            <li><a href="/category/markdown.html">markdown</a></li>
                            <li><a href="/category/miband.html">miband</a></li>
                            <li><a href="/category/minecraft.html">minecraft</a></li>
                            <li><a href="/category/miui.html">miui</a></li>
                            <li><a href="/category/money.html">money</a></li>
                            <li><a href="/category/mongodb.html">mongodb</a></li>
                            <li><a href="/category/mouse.html">mouse</a></li>
                            <li><a href="/category/network.html">network</a></li>
                            <li><a href="/category/openstreetmap.html">openstreetmap</a></li>
                            <li><a href="/category/os.html">os</a></li>
                            <li><a href="/category/otkrytye-dannye.html">открытые данные</a></li>
                            <li><a href="/category/postgis.html">postgis</a></li>
                            <li><a href="/category/postgresql.html">PostgreSQL</a></li>
                            <li><a href="/category/powershell.html">powershell</a></li>
                            <li><a href="/category/programming.html">programming</a></li>
                            <li><a href="/category/projects.html">projects</a></li>
                            <li><a href="/category/python.html">python</a></li>
                            <li class="active"><a href="/category/radio.html">radio</a></li>
                            <li><a href="/category/rest-api.html">rest-api</a></li>
                            <li><a href="/category/rust.html">rust</a></li>
                            <li><a href="/category/sailfish.html">sailfish</a></li>
                            <li><a href="/category/security.html">security</a></li>
                            <li><a href="/category/selenium.html">selenium</a></li>
                            <li><a href="/category/shell.html">shell</a></li>
                            <li><a href="/category/swift.html">swift</a></li>
                            <li><a href="/category/tatar.html">tatar</a></li>
                            <li><a href="/category/upwork.html">upwork</a></li>
                            <li><a href="/category/video.html">video</a></li>
                            <li><a href="/category/vim.html">vim</a></li>
                            <li><a href="/category/voice-assistant.html">voice-assistant</a></li>
                            <li><a href="/category/vscode.html">vscode</a></li>
                            <li><a href="/category/web.html">web</a></li>
                            <li><a href="/category/wifi.html">wifi</a></li>
                            <li><a href="/category/windows.html">windows</a></li>
                    </ul>
                <div>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2017/03/15/sdr-dvb-t-realtek-rtl2832u-ubuntu-lsusb/" rel="bookmark"
           title="Permalink to Настройка программного приёмника (SDR) из DVB-T адаптера Realtek RTL2832U в Ubuntu (возможно устарело)">Настройка программного приёмника (SDR) из DVB-T адаптера Realtek RTL2832U в Ubuntu (возможно устарело)</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <span>Wed 15 March 2017</span>
<span>| tags: <a href="/tag/radio.html">радио</a><a href="/tag/sdr.html">sdr</a><a href="/tag/ubuntu.html">ubuntu</a><a href="/tag/radio.html">radio</a></span>
</footer><!-- /.post-info -->      <p><strong>источник</strong> : http://gimmor.blogspot.ru/2014/01/sdr-dvb-t-realtek-rtl2832u-ubuntu.html</p>
<ol>
<li><code>bash
   lsusb</code></li>
</ol>
<p>Bus 001 Device 003: ID 0bda:2832 Realtek Semiconductor Corp. RTL2832U DVB-T</p>
<ol>
<li>Настройка прав для портов USB (в моем случае это нужно было сделать) </li>
</ol>
<div class="highlight"><pre><span></span>sudo groupadd usbusers
groups имя_пользователя <span class="c1"># вывод списка групп в которых состоит пользователь.</span>
groups isaifutdinov
sudo usermod -G usbusers -a isaifutdinov
</pre></div>


<ol>
<li>
<p>Edit the file /etc/udev/rules.d/40-permissions.rules</p>
</li>
<li>
<p>Search for the following lines</p>
<p><code>bash
 # USB devices (usbfs replacement)
 SUBSYSTEM=="usb_device", MODE="0664"</code></p>
<ul>
<li>Change them to the following</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><span class="c1"># USB devices (usbfs replacement)</span>
<span class="nv">SUBSYSTEM</span><span class="o">==</span><span class="s2">&quot;usb_device&quot;</span>, <span class="nv">GROUP</span><span class="o">=</span><span class="s2">&quot;usbusers&quot;</span>, <span class="nv">MODE</span><span class="o">=</span><span class="s2">&quot;0664&quot;</span>
</pre></div>


<ol>
<li>перезагрузка компьютера</li>
</ol>
<p>## Установка GnuRadio</p>
<div class="highlight"><pre><span></span>sudo apt-get install gnuradio
</pre></div>


<p>при ошибки запуска GRC нужно установить модуль питона numpy:</p>
<div class="highlight"><pre><span></span>sudo apt-get install numpy
</pre></div>


<h2>Сборка из исходных кодов RTL-SDR</h2>
<p>Загрузка исходных кодов RTL-SDR. Можно проделать в домашней директории, либо в директории для проектов (у меня ~/dev )</p>
<div class="highlight"><pre><span></span>git clone git://git.osmocom.org/rtl-sdr.git
<span class="nb">cd</span> rtl-sdr/
mkdir build <span class="p">&amp;</span> <span class="nb">cd</span> build <span class="p">&amp;</span> sudo apt install cmake <span class="p">&amp;</span> cmake ../ <span class="p">&amp;</span> make
sudo make install <span class="p">&amp;</span> sudo ldconfig
</pre></div>


<h2>Тестирование после сборки</h2>
<div class="highlight"><pre><span></span>sudo rtl_test -t
</pre></div>


<div class="highlight"><pre><span></span><span class="err">Found 1 device(s):</span>
<span class="err">  0:  Realtek, RTL2838UHIDIR, SN: 00000013</span>
<span class="err">Using device 0: Generic RTL2832U OEM</span>
<span class="err">Kernel driver is active, or device is claimed by second instance of librtlsdr.</span>
<span class="err">In the first case, please either detach or blacklist the kernel module</span>
<span class="err">(dvb_usb_rtl28xxu), or enable automatic detaching at compile time.</span>
<span class="err">usb_claim_interface error -6</span>
<span class="err">Failed to open rtlsdr device #0.</span>
</pre></div>


<p>Надо выгрузить модули ядра , привязанные к устройству (это всё же телеприёмник). Добавить в файл <strong>/etc/modprobe.d/blacklist.conf</strong> следующие строки:</p>
<div class="highlight"><pre><span></span>blacklist dvb_usb_rtl28xxu
blacklist rtl2830
blacklist dvb_usb_v2
</pre></div>


<p>и перезагрузить систему.</p>
<p>и перезагрузить систему.</p>
<div class="highlight"><pre><span></span>sudo rtl_test -t 
</pre></div>


<div class="highlight"><pre><span></span><span class="k">Found</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">device</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="err">:</span><span class="w"></span>
<span class="mi">0</span><span class="err">:</span><span class="w">  </span><span class="n">Generic</span><span class="p">,</span><span class="w"> </span><span class="n">RTL2832U</span><span class="p">,</span><span class="w"> </span><span class="nl">SN</span><span class="p">:</span><span class="w"> </span><span class="mi">77771111153705700</span><span class="w"></span>
<span class="k">Using</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="n">Generic</span><span class="w"> </span><span class="n">RTL2832U</span><span class="w"></span>
<span class="k">Found</span><span class="w"> </span><span class="n">Rafael</span><span class="w"> </span><span class="n">Micro</span><span class="w"> </span><span class="n">R820T</span><span class="w"> </span><span class="n">tuner</span><span class="w"></span>
<span class="n">Supported</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">29</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="mf">0.9</span><span class="w"> </span><span class="mf">1.4</span><span class="w"> </span><span class="mf">2.7</span><span class="w"> </span><span class="mf">3.7</span><span class="w"> </span><span class="mf">7.7</span><span class="w"> </span><span class="mf">8.7</span><span class="w"> </span><span class="mf">12.5</span><span class="w"> </span><span class="mf">14.4</span><span class="w"> </span><span class="mf">15.7</span><span class="w"> </span><span class="mf">16.6</span><span class="w"> </span><span class="mf">19.7</span><span class="w"> </span><span class="mf">20.7</span><span class="w"> </span><span class="mf">22.9</span><span class="w"> </span><span class="mf">25.4</span><span class="w"> </span><span class="mf">28.0</span><span class="w"> </span><span class="mf">29.7</span><span class="w"> </span><span class="mf">32.8</span><span class="w"> </span><span class="mf">33.8</span><span class="w"> </span><span class="mf">36.4</span><span class="w"> </span><span class="mf">37.2</span><span class="w"> </span><span class="mf">38.6</span><span class="w"> </span><span class="mf">40.2</span><span class="w"> </span><span class="mf">42.1</span><span class="w"> </span><span class="mf">43.4</span><span class="w"> </span><span class="mf">43.9</span><span class="w"> </span><span class="mf">44.5</span><span class="w"> </span><span class="mf">48.0</span><span class="w"> </span><span class="mf">49.6</span><span class="w"></span>
<span class="o">[</span><span class="n">R82XX</span><span class="o">]</span><span class="w"> </span><span class="n">PLL</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">locked</span><span class="err">!</span><span class="w"></span>
<span class="n">Sampling</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="mi">2048000</span><span class="w"> </span><span class="n">S</span><span class="o">/</span><span class="n">s</span><span class="p">.</span><span class="w"></span>
<span class="k">No</span><span class="w"> </span><span class="n">E4000</span><span class="w"> </span><span class="n">tuner</span><span class="w"> </span><span class="k">found</span><span class="p">,</span><span class="w"> </span><span class="n">aborting</span><span class="p">.</span><span class="w"></span>
</pre></div>


<p>Простейшее прослушивание УКВ-радио (FM)</p>
<p>RTL-FM - консольная программа для декодирования FM. Aplay - консольное проигрывание звука.</p>
<p>rtl_fm -f 105.8M -s 200000 -r 48000 - | aplay -r 48k -f S16_LE</p>
<ul>
<li>Программы для SDR<div class="highlight"><pre><span></span>              <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="k">get</span> <span class="n">install</span> <span class="n">gqrx</span><span class="o">-</span><span class="n">sdr</span>

          <span class="o">###</span> <span class="n">SDR</span><span class="o">#</span>
</pre></div>


</li>
</ul>
<p>Written by prog (Youssef) for Windows. It is probably the best general purpose software for rtlsdr devices. Mono is slow and ugly on linux but if you restrict the sample rate it works fine. It's probably the easiest program to use, has the most diverse plugin ecosystem (example: Vasili_ru's plugins), and has the best DSP and features for dealing with the quirks of the rtlsdr dongles.
As of 2015-09-14 the changes to Mono 4 allow SDR# to be viable to run on linux again. Make sure you have the latest Mono 4 though. This still requires soft linking in your system rtlsdr and portaudio library to the sdrshape.exe dir like below,</p>
<div class="highlight"><pre><span></span>ln -s  /usr/local/lib/librtlsdr.so librtlsdr.dll
ln -s /usr/lib/x86_64-linux-gnu/libportaudio.so.
</pre></div>


<p>2 libportaudio.so
Just make sure you link your actual system rtlsdr and libportaudio, not my example path above. On debian/ubuntu find it by using locate,
locate portaudio.so
Roklobsta's rtlsdr.org has a more detailed SDR# linux configuration guide if you're having trouble.
Update: As of 2015-10-15 ADBS# is no more. ADBS# is another easy to use application by prog, but specifically for plotting aviation transponders like gr-air-modes does. The distributed binaries also runs under linux with mono (or native in windows) and output virtualradar compatible data on 127.0.0.1:47806. If your antenna condition is crappy, try using filter = 1.</p>
<p><strong>Изучить:</strong></p>
<p><a href="http://my-gnuradio.org/2014/11/16/rtl2832-dongl-i-gnuradio/">http://my-gnuradio.org/2014/11/16/rtl2832-dongl-i-gnuradio/</a></p>
<p>Установка программы  CubicSDR</p>
<div class="highlight"><pre><span></span>sudo add-apt-repository ppa:alexlarsson/flatpak
sudo apt update
sudo apt install flatpak
</pre></div>


<p>Загрузить приложение <a href="https://github.com/cjcliffe/CubicSDR/releases">CubicSDR</a>
<a href="https://github.com/cjcliffe/CubicSDR/releases/download/0.2.1-alpha1/CubicSDR-0.2.1-x86_64.AppImage">CubicSDR-0.2.1-x86_64.AppImage</a></p>
<p>Инстукции <a href="http://cubicsdr.readthedocs.io/en/latest/">http://cubicsdr.readthedocs.io/en/latest/</a></p>
<p>Install CubicSDR:</p>
<div class="highlight"><pre><span></span><span class="err">flatpak flatpak install --bundle CubicSDR-0.2.0.flatpak     </span>
</pre></div>


<div class="highlight"><pre><span></span><span class="err">Once installed, run with flatpak run com.cubicsdr.</span>
</pre></div>


<p>App To uninstall CubicSDR flatpak (or prepare for re-install):</p>
<div class="highlight"><pre><span></span><span class="err">flatpak uninstall com.cubicsdr.App</span>
</pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/oILnur">Twitter</a></li>
                            <li><a href="mailto: ilnursoft@gmail.com">Email</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

</body>
</html>